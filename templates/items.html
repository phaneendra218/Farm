<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Items</title>
</head>
<body>
    <h1>Available Items</h1>
    
    <h3>Items List:</h3>
    <ul>
        {% for item in items %}
            <li>
                <strong>{{ item.name }}</strong> - ${{ item.price }}
                
                {% if 'user_id' in session %}
                    <!-- Show quantity input only if logged in -->
                    <form action="{{ url_for('order_now', item_id=item.id) }}" method="POST">
                        <label for="quantity">Quantity:</label>
                        <input type="number" name="quantity" id="quantity" min="1" required>
                        <button type="submit">Order Now</button>
                    </form>
                {% else %}
                    <!-- If not logged in, just a button to log in -->
                    <form action="{{ url_for('login') }}">
                        <button type="submit">Login to Order</button>
                    </form>
                {% endif %}
            </li>
        {% endfor %}
    </ul>
    
    {% if 'user_id' in session %}
        <p><a href="{{ url_for('logout') }}">Logout</a></p>
    {% else %}
        <p><a href="{{ url_for('login') }}">Login</a></p>
    {% endif %}
</body>
</html>
