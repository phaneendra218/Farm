{% extends "base.html" %}

{% block content %}
<h2>Welcome to FreshlyFruited Farms</h2>
<p>Your one-stop solution for all farming needs. Explore our platform to order fresh produce, manage your items, and much more!</p>

<h3>Available Items</h3>
{% if items %}
    <div class="item-container">
        {% for item in items %}
            <div class="item-card">
                <h4>{{ item.name }}</h4>
                <p>Price: â‚¹{{ item.price }}</p>
                {% if item.image_path %}
                    <img src="{{ url_for('static', filename='uploads/' + item.image_path.split('/')[-1]) }}" alt="{{ item.name }}" style="width:150px; height:100px;">
                {% else %}
                    <p>No image available</p>
                {% endif %}                
                <!-- Check if item is hidden -->
                {% if item.is_hidden %}
                    <p class="text-danger" style="font-weight: bold;">Sold Out</p>
                    <img src="{{ url_for('static', filename='coming_soon.png') }}" alt="Coming Soon" style="width:100px; height:100px; position:absolute; top:40%; right:10px; transform:translateY(-50%);">
                {% else %}
                    <form method="POST" action="{{ url_for('order_item', item_id=item.id) }}" style="margin-top:10px;">
                        <button type="submit">Order Now</button>
                    </form>
                {% endif %}
            </div>
        {% endfor %}
    </div>
{% else %}
    <p>No items available at the moment.</p>
{% endif %}
{% endblock %}
